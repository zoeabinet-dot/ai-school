{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Outlet,useLocation,useNavigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import{Menu,X,Home,Users,Brain,BarChart3,Camera,Building2,UserCheck,BookOpen,MessageCircle,User,Settings,Bell,LogOut}from'lucide-react';import{useAuthStore}from'../../store';import{useNotificationsStore}from'../../store';import{webSocketService}from'../../services/websocket';import{toast}from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=()=>{var _user$role,_navigationItems$find;const[sidebarOpen,setSidebarOpen]=useState(false);const[isMobile,setIsMobile]=useState(false);const location=useLocation();const navigate=useNavigate();const{user,logout}=useAuthStore();const{unreadCount,fetchNotifications}=useNotificationsStore();// Navigation items\nconst navigationItems=[{name:'Dashboard',icon:Home,path:'/dashboard'},{name:'Students',icon:Users,path:'/students'},{name:'AI Lessons',icon:Brain,path:'/ai-lessons'},{name:'Analytics',icon:BarChart3,path:'/analytics'},{name:'Monitoring',icon:Camera,path:'/monitoring'},{name:'Families',icon:Building2,path:'/families'},{name:'Staff',icon:UserCheck,path:'/staff'},{name:'Lessons',icon:BookOpen,path:'/lessons'},{name:'Chat',icon:MessageCircle,path:'/chat'}];// Check if user has permission to access certain routes\nconst hasPermission=path=>{var _rolePermissions$user;if(!user)return false;// Admin has access to everything\nif(user.role==='admin')return true;// Role-based access control\nconst rolePermissions={student:['/dashboard','/ai-lessons','/chat','/profile','/settings'],family:['/dashboard','/families','/chat','/profile','/settings'],staff:['/dashboard','/students','/ai-lessons','/analytics','/monitoring','/lessons','/chat','/profile','/settings'],ai_teacher:['/dashboard','/ai-lessons','/analytics','/chat','/profile','/settings']};return((_rolePermissions$user=rolePermissions[user.role])===null||_rolePermissions$user===void 0?void 0:_rolePermissions$user.includes(path))||false;};// Filter navigation items based on user permissions\nconst filteredNavigationItems=navigationItems.filter(item=>hasPermission(item.path));useEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<768);};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);useEffect(()=>{// Fetch notifications on mount\nfetchNotifications();// Set up WebSocket listeners for real-time notifications\nwebSocketService.onNotification(notification=>{toast.success(notification.message);fetchNotifications();// Refresh notifications\n});return()=>{webSocketService.off('notification');};},[fetchNotifications]);const handleLogout=async()=>{try{await logout();toast.success('Logged out successfully');navigate('/login');}catch(error){toast.error('Logout failed');}};const isActiveRoute=path=>{return location.pathname===path;};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[sidebarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsx(motion.div,{className:\"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-large transform transition-transform duration-300 ease-in-out md:translate-x-0 \".concat(sidebarOpen?'translate-x-0':'-translate-x-full'),initial:{x:-256},animate:{x:sidebarOpen?0:-256},transition:{duration:0.3},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Brain,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"AI School\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(false),className:\"md:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 capitalize\",children:user===null||user===void 0?void 0:(_user$role=user.role)===null||_user$role===void 0?void 0:_user$role.replace('_',' ')})]})]})}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 px-4 py-6 space-y-2 overflow-y-auto\",children:filteredNavigationItems.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsxs(motion.button,{onClick:()=>{navigate(item.path);if(isMobile)setSidebarOpen(false);},className:\"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 \".concat(isActiveRoute(item.path)?'bg-primary-100 text-primary-700':'text-gray-600 hover:bg-gray-100 hover:text-gray-900'),whileHover:{scale:1.02},whileTap:{scale:0.98},children:[/*#__PURE__*/_jsx(Icon,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]},item.name);})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/profile'),className:\"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors duration-200\",children:[/*#__PURE__*/_jsx(User,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Profile\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/settings'),className:\"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors duration-200\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 hover:text-red-700 rounded-lg transition-colors duration-200\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:ml-64\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(true),className:\"md:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\",children:/*#__PURE__*/_jsx(Menu,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:((_navigationItems$find=navigationItems.find(item=>isActiveRoute(item.path)))===null||_navigationItems$find===void 0?void 0:_navigationItems$find.name)||'Dashboard'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/notifications'),className:\"relative p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(Bell,{className:\"w-5 h-5\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\",children:unreadCount>9?'9+':unreadCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"hidden md:block text-sm font-medium text-gray-900\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]})]})]})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"p-6\",children:/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.3},children:/*#__PURE__*/_jsx(Outlet,{})},location.pathname)})})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","Outlet","useLocation","useNavigate","motion","AnimatePresence","Menu","X","Home","Users","Brain","BarChart3","Camera","Building2","UserCheck","BookOpen","MessageCircle","User","Settings","Bell","LogOut","useAuthStore","useNotificationsStore","webSocketService","toast","jsx","_jsx","jsxs","_jsxs","Layout","_user$role","_navigationItems$find","sidebarOpen","setSidebarOpen","isMobile","setIsMobile","location","navigate","user","logout","unreadCount","fetchNotifications","navigationItems","name","icon","path","hasPermission","_rolePermissions$user","role","rolePermissions","student","family","staff","ai_teacher","includes","filteredNavigationItems","filter","item","checkMobile","window","innerWidth","addEventListener","removeEventListener","onNotification","notification","success","message","off","handleLogout","error","isActiveRoute","pathname","className","children","onClick","div","concat","initial","x","animate","transition","duration","first_name","last_name","replace","map","Icon","button","whileHover","scale","whileTap","find","mode","opacity","y","exit"],"sources":["/workspaces/ai-school/frontend/src/components/Layout/Layout.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Menu, \n  X, \n  Home, \n  Users, \n  Brain, \n  BarChart3, \n  Camera, \n  Building2, \n  UserCheck, \n  BookOpen, \n  MessageCircle, \n  User, \n  Settings,\n  Bell,\n  LogOut\n} from 'lucide-react';\nimport { useAuthStore } from '../../store';\nimport { useNotificationsStore } from '../../store';\nimport { webSocketService } from '../../services/websocket';\nimport { toast } from 'react-hot-toast';\n\nconst Layout: React.FC = () => {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  \n  const { user, logout } = useAuthStore();\n  const { unreadCount, fetchNotifications } = useNotificationsStore();\n\n  // Navigation items\n  const navigationItems = [\n    { name: 'Dashboard', icon: Home, path: '/dashboard' },\n    { name: 'Students', icon: Users, path: '/students' },\n    { name: 'AI Lessons', icon: Brain, path: '/ai-lessons' },\n    { name: 'Analytics', icon: BarChart3, path: '/analytics' },\n    { name: 'Monitoring', icon: Camera, path: '/monitoring' },\n    { name: 'Families', icon: Building2, path: '/families' },\n    { name: 'Staff', icon: UserCheck, path: '/staff' },\n    { name: 'Lessons', icon: BookOpen, path: '/lessons' },\n    { name: 'Chat', icon: MessageCircle, path: '/chat' },\n  ];\n\n  // Check if user has permission to access certain routes\n  const hasPermission = (path: string) => {\n    if (!user) return false;\n    \n    // Admin has access to everything\n    if (user.role === 'admin') return true;\n    \n    // Role-based access control\n    const rolePermissions: Record<string, string[]> = {\n      student: ['/dashboard', '/ai-lessons', '/chat', '/profile', '/settings'],\n      family: ['/dashboard', '/families', '/chat', '/profile', '/settings'],\n      staff: ['/dashboard', '/students', '/ai-lessons', '/analytics', '/monitoring', '/lessons', '/chat', '/profile', '/settings'],\n      ai_teacher: ['/dashboard', '/ai-lessons', '/analytics', '/chat', '/profile', '/settings'],\n    };\n    \n    return rolePermissions[user.role]?.includes(path) || false;\n  };\n\n  // Filter navigation items based on user permissions\n  const filteredNavigationItems = navigationItems.filter(item => hasPermission(item.path));\n\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    \n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  useEffect(() => {\n    // Fetch notifications on mount\n    fetchNotifications();\n    \n    // Set up WebSocket listeners for real-time notifications\n    webSocketService.onNotification((notification) => {\n      toast.success(notification.message);\n      fetchNotifications(); // Refresh notifications\n    });\n    \n    return () => {\n      webSocketService.off('notification');\n    };\n  }, [fetchNotifications]);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      toast.success('Logged out successfully');\n      navigate('/login');\n    } catch (error) {\n      toast.error('Logout failed');\n    }\n  };\n\n  const isActiveRoute = (path: string) => {\n    return location.pathname === path;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile sidebar overlay */}\n      {sidebarOpen && (\n        <div \n          className=\"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <motion.div\n        className={`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-large transform transition-transform duration-300 ease-in-out md:translate-x-0 ${\n          sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n        }`}\n        initial={{ x: -256 }}\n        animate={{ x: sidebarOpen ? 0 : -256 }}\n        transition={{ duration: 0.3 }}\n      >\n        <div className=\"flex flex-col h-full\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center\">\n                <Brain className=\"w-5 h-5 text-white\" />\n              </div>\n              <h1 className=\"text-xl font-bold text-gray-900\">AI School</h1>\n            </div>\n            <button\n              onClick={() => setSidebarOpen(false)}\n              className=\"md:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          {/* User Info */}\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center\">\n                <User className=\"w-5 h-5 text-primary-600\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900 truncate\">\n                  {user?.first_name} {user?.last_name}\n                </p>\n                <p className=\"text-xs text-gray-500 capitalize\">\n                  {user?.role?.replace('_', ' ')}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Navigation */}\n          <nav className=\"flex-1 px-4 py-6 space-y-2 overflow-y-auto\">\n            {filteredNavigationItems.map((item) => {\n              const Icon = item.icon;\n              return (\n                <motion.button\n                  key={item.name}\n                  onClick={() => {\n                    navigate(item.path);\n                    if (isMobile) setSidebarOpen(false);\n                  }}\n                  className={`w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${\n                    isActiveRoute(item.path)\n                      ? 'bg-primary-100 text-primary-700'\n                      : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'\n                  }`}\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  <Icon className=\"w-5 h-5\" />\n                  <span>{item.name}</span>\n                </motion.button>\n              );\n            })}\n          </nav>\n\n          {/* Footer */}\n          <div className=\"p-4 border-t border-gray-200\">\n            <div className=\"space-y-2\">\n              <button\n                onClick={() => navigate('/profile')}\n                className=\"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors duration-200\"\n              >\n                <User className=\"w-5 h-5\" />\n                <span>Profile</span>\n              </button>\n              <button\n                onClick={() => navigate('/settings')}\n                className=\"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors duration-200\"\n              >\n                <Settings className=\"w-5 h-5\" />\n                <span>Settings</span>\n              </button>\n              <button\n                onClick={handleLogout}\n                className=\"w-full flex items-center space-x-3 px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 hover:text-red-700 rounded-lg transition-colors duration-200\"\n              >\n                <LogOut className=\"w-5 h-5\" />\n                <span>Logout</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Main content */}\n      <div className=\"md:ml-64\">\n        {/* Top bar */}\n        <header className=\"bg-white shadow-sm border-b border-gray-200\">\n          <div className=\"flex items-center justify-between px-6 py-4\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={() => setSidebarOpen(true)}\n                className=\"md:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\"\n              >\n                <Menu className=\"w-5 h-5\" />\n              </button>\n              <h2 className=\"text-lg font-semibold text-gray-900\">\n                {navigationItems.find(item => isActiveRoute(item.path))?.name || 'Dashboard'}\n              </h2>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n              {/* Notifications */}\n              <button\n                onClick={() => navigate('/notifications')}\n                className=\"relative p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100\"\n              >\n                <Bell className=\"w-5 h-5\" />\n                {unreadCount > 0 && (\n                  <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\">\n                    {unreadCount > 9 ? '9+' : unreadCount}\n                  </span>\n                )}\n              </button>\n\n              {/* User menu */}\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center\">\n                  <User className=\"w-4 h-4 text-primary-600\" />\n                </div>\n                <span className=\"hidden md:block text-sm font-medium text-gray-900\">\n                  {user?.first_name} {user?.last_name}\n                </span>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Page content */}\n        <main className=\"p-6\">\n          <AnimatePresence mode=\"wait\">\n            <motion.div\n              key={location.pathname}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={{ duration: 0.3 }}\n            >\n              <Outlet />\n            </motion.div>\n          </AnimatePresence>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}