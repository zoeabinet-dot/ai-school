{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import{HelmetProvider}from'react-helmet-async';import{QueryClient,QueryClientProvider}from'react-query';// Components\nimport Layout from'./components/Layout/Layout';import ProtectedRoute from'./components/Auth/ProtectedRoute';import LoadingSpinner from'./components/UI/LoadingSpinner';// Pages\nimport LoginPage from'./pages/Auth/LoginPage';import RegisterPage from'./pages/Auth/RegisterPage';import DashboardPage from'./pages/Dashboard/DashboardPage';import StudentsPage from'./pages/Students/StudentsPage';import StudentDetailPage from'./pages/Students/StudentDetailPage';import AILessonsPage from'./pages/AILessons/AILessonsPage';import AILessonDetailPage from'./pages/AILessons/AILessonDetailPage';import AnalyticsPage from'./pages/Analytics/AnalyticsPage';import MonitoringPage from'./pages/Monitoring/MonitoringPage';import FamiliesPage from'./pages/Families/FamiliesPage';import StaffPage from'./pages/Staff/StaffPage';import LessonsPage from'./pages/Lessons/LessonsPage';import ChatPage from'./pages/Chat/ChatPage';import ProfilePage from'./pages/Profile/ProfilePage';import SettingsPage from'./pages/Settings/SettingsPage';import NotFoundPage from'./pages/NotFound/NotFoundPage';// Stores\nimport{useAuthStore}from'./store';// Styles\nimport'./styles/index.css';// Create a client\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryClient=new QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:false,staleTime:5*60*1000// 5 minutes\n}}});function App(){const{isAuthenticated,isLoading,checkAuth}=useAuthStore();useEffect(()=>{checkAuth();},[checkAuth]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"large\"})});}return/*#__PURE__*/_jsx(HelmetProvider,{children:/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(DashboardPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"students\",element:/*#__PURE__*/_jsx(StudentsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"students/:id\",element:/*#__PURE__*/_jsx(StudentDetailPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"ai-lessons\",element:/*#__PURE__*/_jsx(AILessonsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"ai-lessons/:id\",element:/*#__PURE__*/_jsx(AILessonDetailPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"analytics\",element:/*#__PURE__*/_jsx(AnalyticsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"monitoring\",element:/*#__PURE__*/_jsx(MonitoringPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"families\",element:/*#__PURE__*/_jsx(FamiliesPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"staff\",element:/*#__PURE__*/_jsx(StaffPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"lessons\",element:/*#__PURE__*/_jsx(LessonsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"chat\",element:/*#__PURE__*/_jsx(ChatPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(ProfilePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"settings\",element:/*#__PURE__*/_jsx(SettingsPage,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFoundPage,{})})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff'},success:{duration:3000,iconTheme:{primary:'#22c55e',secondary:'#fff'}},error:{duration:5000,iconTheme:{primary:'#ef4444',secondary:'#fff'}}}})]})})})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Toaster","HelmetProvider","QueryClient","QueryClientProvider","Layout","ProtectedRoute","LoadingSpinner","LoginPage","RegisterPage","DashboardPage","StudentsPage","StudentDetailPage","AILessonsPage","AILessonDetailPage","AnalyticsPage","MonitoringPage","FamiliesPage","StaffPage","LessonsPage","ChatPage","ProfilePage","SettingsPage","NotFoundPage","useAuthStore","jsx","_jsx","jsxs","_jsxs","queryClient","defaultOptions","queries","retry","refetchOnWindowFocus","staleTime","App","isAuthenticated","isLoading","checkAuth","className","children","size","client","path","element","to","replace","index","position","toastOptions","duration","style","background","color","success","iconTheme","primary","secondary","error"],"sources":["/workspaces/ai-school/frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\n// Components\nimport Layout from './components/Layout/Layout';\nimport ProtectedRoute from './components/Auth/ProtectedRoute';\nimport LoadingSpinner from './components/UI/LoadingSpinner';\n\n// Pages\nimport LoginPage from './pages/Auth/LoginPage';\nimport RegisterPage from './pages/Auth/RegisterPage';\nimport DashboardPage from './pages/Dashboard/DashboardPage';\nimport StudentsPage from './pages/Students/StudentsPage';\nimport StudentDetailPage from './pages/Students/StudentDetailPage';\nimport AILessonsPage from './pages/AILessons/AILessonsPage';\nimport AILessonDetailPage from './pages/AILessons/AILessonDetailPage';\nimport AnalyticsPage from './pages/Analytics/AnalyticsPage';\nimport MonitoringPage from './pages/Monitoring/MonitoringPage';\nimport FamiliesPage from './pages/Families/FamiliesPage';\nimport StaffPage from './pages/Staff/StaffPage';\nimport LessonsPage from './pages/Lessons/LessonsPage';\nimport ChatPage from './pages/Chat/ChatPage';\nimport ProfilePage from './pages/Profile/ProfilePage';\nimport SettingsPage from './pages/Settings/SettingsPage';\nimport NotFoundPage from './pages/NotFound/NotFoundPage';\n\n// Stores\nimport { useAuthStore } from './store';\n\n// Styles\nimport './styles/index.css';\n\n// Create a client\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: 1,\n      refetchOnWindowFocus: false,\n      staleTime: 5 * 60 * 1000, // 5 minutes\n    },\n  },\n});\n\nfunction App() {\n  const { isAuthenticated, isLoading, checkAuth } = useAuthStore();\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <LoadingSpinner size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <HelmetProvider>\n      <QueryClientProvider client={queryClient}>\n        <Router>\n          <div className=\"App\">\n            <Routes>\n              {/* Public Routes */}\n              <Route \n                path=\"/login\" \n                element={\n                  isAuthenticated ? <Navigate to=\"/dashboard\" replace /> : <LoginPage />\n                } \n              />\n              <Route \n                path=\"/register\" \n                element={\n                  isAuthenticated ? <Navigate to=\"/dashboard\" replace /> : <RegisterPage />\n                } \n              />\n\n              {/* Protected Routes */}\n              <Route \n                path=\"/\" \n                element={\n                  <ProtectedRoute>\n                    <Layout />\n                  </ProtectedRoute>\n                }\n              >\n                <Route index element={<Navigate to=\"/dashboard\" replace />} />\n                <Route path=\"dashboard\" element={<DashboardPage />} />\n                <Route path=\"students\" element={<StudentsPage />} />\n                <Route path=\"students/:id\" element={<StudentDetailPage />} />\n                <Route path=\"ai-lessons\" element={<AILessonsPage />} />\n                <Route path=\"ai-lessons/:id\" element={<AILessonDetailPage />} />\n                <Route path=\"analytics\" element={<AnalyticsPage />} />\n                <Route path=\"monitoring\" element={<MonitoringPage />} />\n                <Route path=\"families\" element={<FamiliesPage />} />\n                <Route path=\"staff\" element={<StaffPage />} />\n                <Route path=\"lessons\" element={<LessonsPage />} />\n                <Route path=\"chat\" element={<ChatPage />} />\n                <Route path=\"profile\" element={<ProfilePage />} />\n                <Route path=\"settings\" element={<SettingsPage />} />\n              </Route>\n\n              {/* 404 Route */}\n              <Route path=\"*\" element={<NotFoundPage />} />\n            </Routes>\n\n            {/* Toast Notifications */}\n            <Toaster\n              position=\"top-right\"\n              toastOptions={{\n                duration: 4000,\n                style: {\n                  background: '#363636',\n                  color: '#fff',\n                },\n                success: {\n                  duration: 3000,\n                  iconTheme: {\n                    primary: '#22c55e',\n                    secondary: '#fff',\n                  },\n                },\n                error: {\n                  duration: 5000,\n                  iconTheme: {\n                    primary: '#ef4444',\n                    secondary: '#fff',\n                  },\n                },\n              }}\n            />\n          </div>\n        </Router>\n      </QueryClientProvider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}